import { ChatMessage, FAQItem } from '@/types/elevator';
import { ELEVATOR_MODELS, FAQS, COMPANY_INFO, QUICK_REPLIES, ACCESSORIES } from '@/constants/elevatorData';

export class ChatbotService {
  private static getGreeting(): string {
    const hour = new Date().getHours();
    if (hour < 12) return 'Good morning';
    if (hour < 18) return 'Good afternoon';
    return 'Good evening';
  }

  static generateWelcomeMessage(): ChatMessage {
    return {
      id: Date.now().toString(),
      type: 'bot',
      content: `${this.getGreeting()}! Welcome to GPlus Elevator üè¢\n\nI'm your virtual assistant with access to our complete product documentation. I can help you with:\n\n‚Ä¢ Product models & specifications\n‚Ä¢ Accurate pricing information\n‚Ä¢ Installation requirements\n‚Ä¢ Safety features\n‚Ä¢ Customization options\n\nHow can I assist you today?`,
      timestamp: new Date(),
      quickReplies: QUICK_REPLIES.initial,
    };
  }

  static processUserMessage(message: string): ChatMessage {
    const lowerMessage = message.toLowerCase().trim();
    let response = '';
    let quickReplies: string[] | undefined;

    // Product inquiries
    if (this.containsKeywords(lowerMessage, ['product', 'model', 'elevator', 'lift', 'view'])) {
      response = this.getProductOverview();
      quickReplies = QUICK_REPLIES.products;
    }
    // G+1 Models
    else if (this.containsKeywords(lowerMessage, ['g+1', 'g1', 'two floor', '2 floor', '2 landing'])) {
      response = this.getG1Models();
      quickReplies = ['Calculate Price', 'View G+2 Models', 'Back to Menu'];
    }
    // G+2 Models (CFM - Customer Favorite Model)
    else if (this.containsKeywords(lowerMessage, ['g+2', 'g2', 'three floor', '3 floor', '3 landing', 'cfm', 'best seller', 'favorite'])) {
      response = this.getG2Models();
      quickReplies = ['Calculate Price', 'View G+1 Models', 'Back to Menu'];
    }
    // G+3 Models
    else if (this.containsKeywords(lowerMessage, ['g+3', 'g3', 'four floor', '4 floor', '4 landing'])) {
      response = this.getG3Models();
      quickReplies = ['Calculate Price', 'Request Quote', 'Back to Menu'];
    }
    // Pricing
    else if (this.containsKeywords(lowerMessage, ['price', 'cost', 'budget', 'calculate', 'how much', 'payment'])) {
      response = this.getPricingInfo();
      quickReplies = ['View Products', 'Calculate Price', 'Back to Menu'];
    }
    // Installation
    else if (this.containsKeywords(lowerMessage, ['install', 'installation', 'setup', 'civil work', 'space', 'requirement'])) {
      response = this.getInstallationInfo();
      quickReplies = ['View Products', 'Request Quote', 'Back to Menu'];
    }
    // Technical specifications
    else if (this.containsKeywords(lowerMessage, ['motor', 'gearbox', 'controller', 'drive', 'speed', 'technical', 'specification'])) {
      response = this.getTechnicalSpecs();
      quickReplies = ['View Products', 'Safety Features', 'Back to Menu'];
    }
    // Maintenance
    else if (this.containsKeywords(lowerMessage, ['maintenance', 'amc', 'service', 'warranty'])) {
      response = this.getMaintenanceInfo();
      quickReplies = ['View AMC Packages', 'Request Quote', 'Back to Menu'];
    }
    // Safety
    else if (this.containsKeywords(lowerMessage, ['safe', 'safety', 'security', 'emergency', 'ard', 'rescue'])) {
      response = this.getSafetyInfo();
      quickReplies = ['View Products', 'Technical Specs', 'Back to Menu'];
    }
    // Cabin types
    else if (this.containsKeywords(lowerMessage, ['cabin', 'ms', 'ss', 'gold', 'stainless', 'material'])) {
      response = this.getCabinInfo();
      quickReplies = ['View Accessories', 'Request Quote', 'Back to Menu'];
    }
    // Doors
    else if (this.containsKeywords(lowerMessage, ['door', 'manual', 'auto', 'sliding', 'swing'])) {
      response = this.getDoorInfo();
      quickReplies = ['View Products', 'Calculate Price', 'Back to Menu'];
    }
    // Enclosures
    else if (this.containsKeywords(lowerMessage, ['enclosure', 'glass', 'acp', 'structure'])) {
      response = this.getEnclosureInfo();
      quickReplies = ['View Products', 'Calculate Price', 'Back to Menu'];
    }
    // Customization & Accessories
    else if (this.containsKeywords(lowerMessage, ['custom', 'accessory', 'add-on', 'upgrade', 'optional'])) {
      response = this.getCustomizationInfo();
      quickReplies = ['View Accessories', 'Request Quote', 'Back to Menu'];
    }
    // FAQs
    else if (this.containsKeywords(lowerMessage, ['faq', 'question', 'help', 'info'])) {
      response = this.getFAQOverview();
      quickReplies = ['Installation FAQs', 'Pricing FAQs', 'Safety FAQs', 'Back to Menu'];
    }
    // Contact
    else if (this.containsKeywords(lowerMessage, ['contact', 'phone', 'email', 'call', 'reach', 'website'])) {
      response = this.getContactInfo();
      quickReplies = ['Request Quote', 'View Products', 'Back to Menu'];
    }
    // Quote request
    else if (this.containsKeywords(lowerMessage, ['quote', 'quotation', 'estimate', 'proposal'])) {
      response = this.getQuoteInfo();
      quickReplies = ['Calculate Price', 'Contact Us', 'Back to Menu'];
    }
    // Compare models
    else if (this.containsKeywords(lowerMessage, ['compare', 'difference', 'classic vs ultra', 'classic or ultra'])) {
      response = this.getModelComparison();
      quickReplies = ['View Products', 'Calculate Price', 'Back to Menu'];
    }
    // Back to menu
    else if (this.containsKeywords(lowerMessage, ['back', 'menu', 'main', 'start'])) {
      response = 'What would you like to know about GPlus Elevators?';
      quickReplies = QUICK_REPLIES.initial;
    }
    // Default response
    else {
      response = this.getDefaultResponse(lowerMessage);
      quickReplies = QUICK_REPLIES.initial;
    }

    return {
      id: Date.now().toString(),
      type: 'bot',
      content: response,
      timestamp: new Date(),
      quickReplies,
    };
  }

  private static containsKeywords(text: string, keywords: string[]): boolean {
    return keywords.some(keyword => text.includes(keyword));
  }

  private static getProductOverview(): string {
    return `üè¢ **GPlus Elevator Models**

We offer three main series based on your building height:

**G+1 Series** (2 Landings)
‚Ä¢ Classic: ‚Çπ5,00,000 - ‚Çπ5,80,000
‚Ä¢ Ultra: ‚Çπ5,70,000 - ‚Çπ6,50,000

**G+2 Series** (3 Landings) ‚≠ê CFM - CUSTOMER'S FAVORITE MODEL
‚Ä¢ Classic: ‚Çπ5,70,000 - ‚Çπ6,80,000
‚Ä¢ Ultra: ‚Çπ7,20,000+
‚Ä¢ Our best-selling model!
‚Ä¢ 3rd landing can be closed floor or open terrace

**G+3 Series** (4 Landings)
‚Ä¢ Perfect for two-story homes with terrace
‚Ä¢ Custom pricing available

**All models available in:**
‚Ä¢ Sizes: 3x3, 3.6x3.6, 4x4 feet
‚Ä¢ Door Types: Manual Sliding or Auto Door
‚Ä¢ Enclosures: ACP or Glass (1-2 sides)
‚Ä¢ Cabin Types: Classic (MS) or Ultra (SS304)

Which model interests you?`;
  }

  private static getG1Models(): string {
    const g1Models = ELEVATOR_MODELS.filter(m => m.type === 'G+1');
    return `**G+1 Models** (2 Landings)

Perfect for ground + 1 floor buildings:

**Classic Series** (MS Cabin):
${g1Models.filter(m => m.category === 'Classic').map(m => 
  `‚Ä¢ ${m.doorType} Door + ${m.enclosure}: ‚Çπ${(m.basePrice / 100000).toFixed(2)}L\n  ${m.features.slice(0, 3).join(', ')}`
).join('\n\n')}

**Ultra Series** (SS304 Cabin):
${g1Models.filter(m => m.category === 'Ultra').map(m => 
  `‚Ä¢ ${m.doorType} Door + ${m.enclosure}: ‚Çπ${(m.basePrice / 100000).toFixed(2)}L\n  Premium stainless steel finish`
).join('\n\n')}

**Available Sizes:** 3x3, 3.6x3.6, 4x4 feet

All prices include GST + Erection Cost`;
  }

  private static getG2Models(): string {
    return `**G+2 Models** ‚≠ê CFM - CUSTOMER'S FAVORITE MODEL (3 Landings)

Our best-selling elevator! Why customers love it:
‚Ä¢ 3 landings provide maximum versatility
‚Ä¢ 3rd landing works for closed floor OR open terrace
‚Ä¢ Can be installed anywhere
‚Ä¢ 3x3 ft option is our premium compact choice

**Classic Series** (MS Cabin):
‚Ä¢ Manual Door + ACP: ‚Çπ5,70,000
‚Ä¢ Manual Door + Glass (1 Side): ‚Çπ6,40,000
‚Ä¢ Manual Door + Glass (2 Sides): ‚Çπ6,70,000

**Ultra Series** (SS304 Cabin):
‚Ä¢ Manual Door + Glass (1 Side): ‚Çπ7,20,000
‚Ä¢ Premium rust-resistant stainless steel

**Why G+2 is Popular:**
‚úì Most versatile for Indian homes
‚úì Perfect size-to-value ratio
‚úì Suitable for ground + 2 floors
‚úì Terrace or closed floor flexibility

**Available Sizes:** 3x3, 3.6x3.6, 4x4 feet

All prices include GST + Erection Cost`;
  }

  private static getG3Models(): string {
    return `**G+3 Models** (4 Landings)

Ideal for:
‚Ä¢ Two-story homes with terrace access
‚Ä¢ Apartment-style individual houses
‚Ä¢ Ground + 3 floor buildings

**Available in:**
‚Ä¢ Classic Series (MS Cabin)
‚Ä¢ Ultra Series (SS304 Cabin)

**Sizes:**
‚Ä¢ 3x3 feet (Premium compact)
‚Ä¢ 3.6x3.6 feet (Spacious)
‚Ä¢ 4x4 feet (Maximum comfort)
‚Ä¢ Customized sizes available

**Pricing:**
Custom quotes based on:
‚Ä¢ Cabin type (Classic MS or Ultra SS)
‚Ä¢ Door type (Manual/Auto)
‚Ä¢ Enclosure type (ACP/Glass)
‚Ä¢ Additional accessories

**Note:** Installation time may be longer for G+3 models.

Would you like a personalized quote?`;
  }

  private static getPricingInfo(): string {
    return `üí∞ **GPlus Elevator Pricing**

**Base Prices by Model:**

**G+1 Series:**
‚Ä¢ Classic: ‚Çπ5.00L - ‚Çπ5.80L
‚Ä¢ Ultra: ‚Çπ5.70L - ‚Çπ6.50L

**G+2 Series:** ‚≠ê CFM
‚Ä¢ Classic: ‚Çπ5.70L - ‚Çπ6.80L
‚Ä¢ Ultra: ‚Çπ7.20L+

**Price Factors:**
‚Ä¢ Cabin Type (MS/SS304/Gold)
‚Ä¢ Door Type (Manual/Auto)
‚Ä¢ Enclosure (ACP/Glass)
‚Ä¢ Size (3x3, 3.6x3.6, 4x4)
‚Ä¢ Accessories & customization

**Payment Plan:**
‚Ä¢ 10% - Advance payment
‚Ä¢ 40% - At booking for fabrication
‚Ä¢ 45% - Material arrival at site
‚Ä¢ 5% - 80% completion

**What's Included:**
‚úì All materials with GST
‚úì Professional installation
‚úì 1-year warranty (electrical/electronics)
‚úì 5-year warranty (mechanical items)
‚úì Quality certification

**Not Included:**
‚úó Civil work (core cutting, plastering, tiling)
‚úó 3-phase electrical supply setup
‚úó Terrace closed structure (if needed)

Use our calculator for exact pricing!`;
  }

  private static getInstallationInfo(): string {
    return `üîß **Installation Requirements**

**Space Requirements:**
‚Ä¢ Minimum: 3x3 feet (standard)
‚Ä¢ Options: 3.6x3.6 or 4x4 feet
‚Ä¢ No extensive civil work needed
‚Ä¢ Core cutting for existing homes

**Pre-Installation (Customer's Responsibility):**
1. Core cutting of roof
2. 3-Phase supply with 40/63 Amps MCCB
3. Bulkhead lighting with earthing
4. Completed plastering work
5. Completed tile work
6. For terrace: 12ft closed structure with roofing

**Timeline:**

**Standard Models:**
‚Ä¢ Fabrication: 10-15 working days
‚Ä¢ Installation: 5-10 working days

**Customized Models:**
‚Ä¢ Fabrication: 20-25 working days
‚Ä¢ Installation: 10-15 working days

**Installation Features:**
‚úì Machine-room-less (MRL) design
‚úì Minimal pit depth (180mm or pit-less)
‚úì Professional setup team
‚úì Quality assurance testing
‚úì User training included

**No License Required** for residential installations!

**Important:** Working days exclude Sundays and holidays. Weather conditions may affect timeline.`;
  }

  private static getTechnicalSpecs(): string {
    return `‚öôÔ∏è **Technical Specifications**

**Motor System:**
‚Ä¢ Type: Geared Traction Motor (NOT hydraulic)
‚Ä¢ Brand: Crompton
‚Ä¢ Power: IE2 - 2.2 KW (3 HP) or 3.7 KW (5 HP)
‚Ä¢ Speed: 1440 rpm
‚Ä¢ Mounting: Flange Mounted S1 duty
‚Ä¢ Brake: 190 Volts DC Brake Motor

**Gearbox:**
‚Ä¢ Brand: ALM (Altra Premium)
‚Ä¢ Model: ALM 110 or ALM 130
‚Ä¢ Ratio: 40:1
‚Ä¢ Frame Size: FR-100L
‚Ä¢ Shaft Type: Hollow Shaft
‚Ä¢ Protection: IP55
‚Ä¢ Lubrication: Oil-filled

**Controller & Drive:**
We use 2 systems:
1. INVT VFD (Variable Frequency Drive)
2. Arkel Arcube/Arboxx (Integrated monoblock)

**Features:**
‚Ä¢ VVVF control for smooth operation
‚Ä¢ Self-fault diagnosis
‚Ä¢ Microprocessor-based AC V3F
‚Ä¢ Automatic phase changer
‚Ä¢ Battery monitoring support

**Performance:**
‚Ä¢ Capacity: 3-5 passengers (220 kg)
‚Ä¢ Speed: 0.5-0.8 meters per second
‚Ä¢ Travel: Up to 10M per floor
‚Ä¢ Leveling Accuracy: 3mm
‚Ä¢ Operation: Simplex Selective Collective

**Safety System:**
‚Ä¢ No Over-Speed Governor (OSG) by default
‚Ä¢ 2:1 roping system for safety
‚Ä¢ Limit switches for over-travel protection
‚Ä¢ ARD (Automatic Rescue Device) included

**Main Components:**
‚Ä¢ Ropes: Usha Martin
‚Ä¢ Cables: Fiber Core (Fire & Waterproof)
‚Ä¢ Guide Rails: 70mm x 65mm x 9mm
‚Ä¢ Anchors/Bolts: TVS brand`;
  }

  private static getMaintenanceInfo(): string {
    return `üõ†Ô∏è **Maintenance Services**

**Two AMC Options:**

**1. Basic AMC** (‚Çπ8,000-17,000/year)
‚Ä¢ Quarterly inspections (4/year)
‚Ä¢ Preventive maintenance
‚Ä¢ Cleaning & lubrication
‚Ä¢ Basic adjustments
‚Ä¢ Oil level monitoring
‚Ä¢ Fault diagnosis
‚Ä¢ **Parts NOT included**

**2. Comprehensive AMC** (‚Çπ30,000-55,000/year)
‚Ä¢ Everything in Basic AMC
‚Ä¢ **All parts replacement included**
‚Ä¢ Electrical/electronic parts covered
‚Ä¢ Emergency repairs (24-72 hrs)
‚Ä¢ 24/7 support availability
‚Ä¢ No hidden costs
‚Ä¢ Power surge damage covered

**What's Covered:**
‚úì Motor inspection
‚úì Gearbox checks
‚úì Control system testing
‚úì Cable & rope examination
‚úì Safety system verification
‚úì Door mechanism servicing
‚úì Complete cleaning

**Service Frequency:**
‚Ä¢ Quarterly visits (4 per year)
‚Ä¢ Emergency response: 6-8 hours

**Response Times:**
‚Ä¢ Standard hours (Mon-Sat 9AM-6PM): Within 6 hours
‚Ä¢ Off-peak hours: Within 8 hours

**Warranty:**
‚Ä¢ 1 year: Electrical & Electronics
‚Ä¢ 5 years: Mechanical items
‚Ä¢ Additional 1 year extended warranty

**Not Covered:**
‚úó Misuse or abuse damage
‚úó Natural disaster damage
‚úó Unauthorized modifications
‚úó Cosmetic damage
‚úó Third-party damage

Protect your investment with regular maintenance!`;
  }

  private static getSafetyInfo(): string {
    return `üõ°Ô∏è **Safety Features**

**Emergency Systems:**
‚Ä¢ **ARD (Automatic Rescue Device)**
  - Battery backup (8 hours)
  - Automatic evacuation during power failure
  - 2-5 second emergency response time

‚Ä¢ **Emergency Alarm System**
  - Emergency bell/siren
  - Two-way communication (where applicable)

**Door Safety:**
‚Ä¢ Double safety locks at all landing doors
‚Ä¢ Manual emergency door release
‚Ä¢ Key-based emergency access

**For Auto Doors:**
‚Ä¢ Light curtain sensors (full-width)
‚Ä¢ Automatic obstruction detection
‚Ä¢ Auto-reverse on obstruction
‚Ä¢ Door closure sensors

**Operational Safety:**
‚Ä¢ Limit switches for over-travel protection
‚Ä¢ 2:1 roping system
‚Ä¢ Buffer springs (with 1ft pit)
‚Ä¢ Automatic braking system
‚Ä¢ Emergency stop button

**Control Features:**
‚Ä¢ Automatic fan/light cut-off
‚Ä¢ Floor announcing system
‚Ä¢ 7-segment display
‚Ä¢ VVVF drive for smooth operation
‚Ä¢ Self-fault diagnosis

**Built-in Protection:**
‚Ä¢ Automatic phase changer (Arkel controller)
‚Ä¢ Inbuilt MCB (Arboxx unit)
‚Ä¢ Overload sensors
‚Ä¢ Fire & waterproof cables

**What We DON'T Have:**
‚úó Over-Speed Governor (not required for home elevators)
‚úó Car rope monitoring system
‚úó Self-lubrication system

**Standards Compliance:**
‚úì Exceeds residential safety standards
‚úì Regular safety inspections included
‚úì Professional installation team
‚úì Quality certified components

Your safety is our priority!`;
  }

  private static getCabinInfo(): string {
    return `üèóÔ∏è **Cabin Types & Materials**

**Classic Series:**
‚Ä¢ **Material:** MS (Mild Steel)
‚Ä¢ **Finish:** Powder-coated
‚Ä¢ **Durability:** High strength, cost-effective
‚Ä¢ **Appearance:** Multiple color options
‚Ä¢ **COP/LOP:** Acrylic panels
‚Ä¢ **Auto Door:** MS material

**Ultra Series:**
‚Ä¢ **Material:** SS304 (Stainless Steel)
‚Ä¢ **Finish:** Polished stainless steel
‚Ä¢ **Durability:** Rust-resistant, low maintenance
‚Ä¢ **Appearance:** Sleek, modern, reflective
‚Ä¢ **COP/LOP:** SS304 panels
‚Ä¢ **Auto Door:** SS material

**Gold Plated Option:**
‚Ä¢ Luxury finish available
‚Ä¢ Gold-colored coating
‚Ä¢ Premium appearance
‚Ä¢ Custom pricing

**Cabin Features:**
‚Ä¢ **Type:** Closed cabin (4 sides)
‚Ä¢ **Front:** Manual/Auto door
‚Ä¢ **Sides:** MS/SS panels
‚Ä¢ **Ceiling:** MS/SS designed false ceiling
‚Ä¢ **Flooring:** Matt or Vinyl stickers
‚Ä¢ **Lighting:** LED lights included
‚Ä¢ **Ventilation:** Blower fan included
‚Ä¢ **Handrails:** One side (default), three sides optional

**Panel Colors Available:**
Multiple colors for MS cabins - contact us for color chart

**Size Options:**
‚Ä¢ 3x3 feet
‚Ä¢ 3.6x3.6 feet
‚Ä¢ 4x4 feet
‚Ä¢ Customized sizes available

Which cabin type matches your needs?`;
  }

  private static getDoorInfo(): string {
    return `üö™ **Door Options**

**Manual Sliding Door:**
‚Ä¢ **Material:** Mesh sliding or MS/SS
‚Ä¢ **Operation:** Manual push/pull
‚Ä¢ **Cost:** Lower investment
‚Ä¢ **Maintenance:** Minimal
‚Ä¢ **Reliability:** Very high
‚Ä¢ **Available in:** All models

**Auto Door:**
‚Ä¢ **Material:** MS (Classic) or SS (Ultra)
‚Ä¢ **Vision:** Half or Full glass vision
‚Ä¢ **Operation:** Automatic with sensors
‚Ä¢ **Safety:** Light curtain sensors
‚Ä¢ **Features:** 
  - Auto-open/close buttons
  - Obstruction detection
  - Auto-reverse function
‚Ä¢ **Cost:** Higher investment
‚Ä¢ **Available in:** All models

**Swing Door Accessories:**
‚Ä¢ MS Swing (Half Vision): ‚Çπ15,000
‚Ä¢ MS Swing (Full Vision): ‚Çπ20,000
‚Ä¢ SS Swing (Half Vision): ‚Çπ25,000
‚Ä¢ SS Swing (Full Vision): ‚Çπ30,000

**Door Mechanisms:**
‚Ä¢ Manual: User-operated handle/latch
‚Ä¢ Auto: Sensor-based actuator system

**Safety Features:**
‚Ä¢ Double safety locks (all doors)
‚Ä¢ Emergency manual release
‚Ä¢ Key-based emergency access
‚Ä¢ Light curtain (auto doors only)

**Door Type:**
‚Ä¢ Open type (manual)
‚Ä¢ Concealed type option (auto)

**Material Quality:**
‚Ä¢ Durable hinges (MS/SS)
‚Ä¢ Smooth operation guaranteed
‚Ä¢ Weather-resistant
‚Ä¢ Fire & waterproof design

Which door type suits your needs?`;
  }

  private static getEnclosureInfo(): string {
    return `üèõÔ∏è **Enclosure Options**

**ACP Enclosure:**
‚Ä¢ **Material:** Aluminum Composite Panel
‚Ä¢ **Features:**
  - Weather resistant
  - Corrosion resistant
  - UV ray protection
  - Lightweight & durable
  - Easy maintenance
‚Ä¢ **Colors:** Multiple options available
‚Ä¢ **Finish:** Metallic, matte, gloss, textured
‚Ä¢ **Cost:** Most economical
‚Ä¢ **Suitable for:** Indoor & outdoor

**Glass Enclosure:**

**8mm Toughened Glass:**
‚Ä¢ **Features:**
  - Sleek modern look
  - Enhanced light transmission
  - Clear visibility
  - Safety grade
‚Ä¢ **Cost:** ‚Çπ200 per sqft additional

**12mm Toughened Glass:**
‚Ä¢ **Features:**
  - Maximum strength
  - Temperature resistant
  - Superior safety
  - Premium appearance
‚Ä¢ **Cost:** Higher investment

**Multi-Color Glass:**
‚Ä¢ Eye-catching designs
‚Ä¢ Extensive customization
‚Ä¢ Unique color schemes
‚Ä¢ Brightens/softens ambiance
‚Ä¢ Modern aesthetic

**Glass Configuration:**
‚Ä¢ **1 Side Glass:** One side transparent
‚Ä¢ **2 Sides Glass:** Two sides transparent
‚Ä¢ **Full Glass:** Complete glass enclosure (optional)

**Structure:**
‚Ä¢ Steel frame construction
‚Ä¢ Weather-proof design
‚Ä¢ Professional installation
‚Ä¢ Customizable to fit space

**Additional Costs:**
‚Ä¢ Outdoor installations may cost extra
‚Ä¢ Full structure without wall support: additional cost

Which enclosure style do you prefer?`;
  }

  private static getCustomizationInfo(): string {
    return `üé® **Customization & Accessories**

**Security Accessories:**

**RF & Password:**
‚Ä¢ LOP connection: ‚Çπ10,000
‚Ä¢ COP connection: ‚Çπ15,000
‚Ä¢ Radio frequency + password access

**Fingerprint & Password:**
‚Ä¢ LOP connection: ‚Çπ15,000
‚Ä¢ COP connection: ‚Çπ20,000
‚Ä¢ Biometric security

**Touch Screen:**
‚Ä¢ Touch Screen LOP: ‚Çπ3,000
‚Ä¢ Touch Screen COP: ‚Çπ20,000
‚Ä¢ Touch Screen with Glass LOP: ‚Çπ5,000
‚Ä¢ Touch Screen with Glass COP: ‚Çπ30,000

**Technical Upgrades:**

**Phase Converter:**
‚Ä¢ Single to 3-phase: ‚Çπ20,000
‚Ä¢ Ensures consistent power supply

**Arkel Smart Controller:**
‚Ä¢ IoT & Cloud Monitoring: ‚Çπ80,000
‚Ä¢ Remote monitoring
‚Ä¢ Data analytics
‚Ä¢ Predictive maintenance
‚Ä¢ Real-time updates

**Door Upgrades:**
(See door options for MS/SS swing doors)

**Glass Upgrade:**
‚Ä¢ 12mm Toughened Glass: ‚Çπ200 per sqft

**Cabin Customization:**
‚Ä¢ Multiple colors (MS cabins)
‚Ä¢ SS304 upgrade (Ultra)
‚Ä¢ Gold plating option
‚Ä¢ Custom flooring designs
‚Ä¢ LED lighting options
‚Ä¢ Handrail configurations

**COP/LOP Styles:**
‚Ä¢ Acrylic (Standard)
‚Ä¢ SS304 (Premium)
‚Ä¢ Gold/Rose Gold finish
‚Ä¢ Touch screen options
‚Ä¢ Custom designs available

**Size Customization:**
‚Ä¢ Standard: 3x3, 3.6x3.6, 4x4 feet
‚Ä¢ Custom sizes available on request

Build your perfect elevator!`;
  }

  private static getModelComparison(): string {
    return `‚öñÔ∏è **Classic vs Ultra Comparison**

**Classic Series:**
‚úì MS (Mild Steel) cabin
‚úì Powder-coated finish
‚úì Acrylic COP/LOP panels
‚úì MS auto door (if selected)
‚úì Cost-effective
‚úì Durable & reliable
‚úì Multiple color options
‚úì Perfect for budget-conscious

**Price Range:** ‚Çπ5.00L - ‚Çπ6.80L

**Ultra Series:**
‚úì SS304 stainless steel cabin
‚úì Polished finish
‚úì SS304 COP/LOP panels
‚úì SS auto door (if selected)
‚úì Premium appearance
‚úì Rust-resistant
‚úì Low maintenance
‚úì Modern sleek design

**Price Range:** ‚Çπ5.70L - ‚Çπ7.20L+

**Key Differences:**

| Feature | Classic | Ultra |
|---------|---------|-------|
| Cabin | MS | SS304 |
| COP/LOP | Acrylic | SS304 |
| Auto Door | MS | SS304 |
| Finish | Powder coat | Polished |
| Corrosion | Resistant | Highly resistant |
| Maintenance | Regular | Minimal |
| Appearance | Classic | Premium |

**Both Include:**
‚Ä¢ Same motor & gearbox
‚Ä¢ Same controller technology
‚Ä¢ Same safety features (ARD, alarms, etc.)
‚Ä¢ Same warranty period
‚Ä¢ Same installation process
‚Ä¢ Same reliability

**Choose Classic if:**
‚Ä¢ Budget is primary concern
‚Ä¢ Indoor installation
‚Ä¢ Color customization needed
‚Ä¢ Standard home elevator

**Choose Ultra if:**
‚Ä¢ Premium appearance desired
‚Ä¢ High humidity environment
‚Ä¢ Minimal maintenance preferred
‚Ä¢ Modern aesthetic important

Both series deliver excellent quality and safety!`;
  }

  private static getFAQOverview(): string {
    const faqsByCategory: { [key: string]: FAQItem[] } = {};
    FAQS.forEach(faq => {
      if (!faqsByCategory[faq.category]) {
        faqsByCategory[faq.category] = [];
      }
      faqsByCategory[faq.category].push(faq);
    });

    let response = `‚ùì **Frequently Asked Questions**\n\n`;
    
    Object.keys(faqsByCategory).slice(0, 3).forEach(category => {
      response += `**${category}:**\n`;
      faqsByCategory[category].slice(0, 2).forEach(faq => {
        response += `\nQ: ${faq.question}\nA: ${faq.answer}\n`;
      });
      response += '\n';
    });

    response += `\n**More Questions?**\nAsk me anything about:\n‚Ä¢ Installation requirements\n‚Ä¢ Pricing & payment\n‚Ä¢ Safety features\n‚Ä¢ Technical specifications\n‚Ä¢ Maintenance services\n\nWhat would you like to know?`;

    return response;
  }

  private static getContactInfo(): string {
    return `üìû **Contact GPlus Elevator**

**Get in Touch:**

üì± **Phone:**
${COMPANY_INFO.phone.join('\n')}

üìß **Email:**
${COMPANY_INFO.email}

üåê **Website:**
${COMPANY_INFO.website}

**For Detailed Information:**
‚Ä¢ Product Catalog: details.gpluselevator.com
‚Ä¢ Company Website: gpluselevator.com

**Office Hours:**
Monday - Saturday: 9:00 AM - 6:00 PM

**Quick Actions:**
‚Ä¢ Request detailed quotation
‚Ä¢ Schedule site visit
‚Ä¢ Technical consultation
‚Ä¢ AMC enrollment

**Response Time:**
‚Ä¢ Phone: Immediate
‚Ä¢ Email: Within 24 hours

**Service Coverage:**
Available for installations across India

How would you like to proceed?`;
  }

  private static getQuoteInfo(): string {
    return `üìã **Request a Quote**

To provide you with an accurate quotation, please provide:

**Project Details:**
1. Building type (Residential/Commercial)
2. Number of floors (G+1/G+2/G+3)
3. Preferred size (3x3, 3.6x3.6, 4x4)
4. Model preference (Classic/Ultra)
5. Door type (Manual/Auto)
6. Enclosure type (ACP/Glass)

**Installation Site:**
7. Indoor or outdoor location
8. New construction or existing building
9. Available space details
10. Terrace access (if applicable)

**Contact Information:**
11. Your name
12. Phone number
13. Email address
14. Location/Address

**Additional Requirements:**
‚Ä¢ Special customizations needed?
‚Ä¢ Preferred accessories?
‚Ä¢ Timeline requirements?

**Next Steps:**
1. Use our Price Calculator tab
2. Contact us directly: ${COMPANY_INFO.phone[0]}
3. Email: ${COMPANY_INFO.email}
4. Get detailed quotation within 24 hrs

**What's Included in Quote:**
‚úì Base model pricing
‚úì Installation costs
‚úì GST breakdown
‚úì Payment schedule
‚úì Timeline estimate
‚úì Warranty details

Ready to calculate your price or contact us?`;
  }

  private static getDefaultResponse(message: string): string {
    // Try to find related FAQ
    const relatedFAQ = FAQS.find(faq => 
      faq.question.toLowerCase().includes(message) || 
      faq.answer.toLowerCase().includes(message) ||
      message.split(' ').some(word => 
        word.length > 3 && faq.question.toLowerCase().includes(word)
      )
    );

    if (relatedFAQ) {
      return `**${relatedFAQ.question}**\n\n${relatedFAQ.answer}\n\nAnything else you would like to know?`;
    }

    return `I can help you with information about GPlus Elevators based on our documentation:

**Product Information:**
‚Ä¢ G+1, G+2, G+3 models
‚Ä¢ Classic vs Ultra series
‚Ä¢ Pricing & specifications

**Installation & Technical:**
‚Ä¢ Space requirements
‚Ä¢ Installation process
‚Ä¢ Technical specifications
‚Ä¢ Motor & gearbox details

**Safety & Maintenance:**
‚Ä¢ Safety features (ARD, alarms)
‚Ä¢ AMC packages
‚Ä¢ Warranty information

**Customization:**
‚Ä¢ Cabin types (MS/SS/Gold)
‚Ä¢ Door options (Manual/Auto)
‚Ä¢ Enclosures (ACP/Glass)
‚Ä¢ Accessories & upgrades

**Contact & Support:**
‚Ä¢ Quotation requests
‚Ä¢ Phone: ${COMPANY_INFO.phone[0]}
‚Ä¢ Website: ${COMPANY_INFO.website}

What specific information are you looking for?`;
  }
}